import{S as ne,aM as $e,U as M,_ as oe,h as se,ah as re,V as ie,W as K,aN as Ae,ad as be,z as y,ae as ve,af as R,o as d,c as b,a as f,F as D,a3 as L,t as N,a5 as J,a1 as V,a4 as G,aj as F,b as u,aO as x,a2 as Ie,ai as ge,d as ye,aP as ze,ab as ce,aQ as Ue,aD as ue,ag as Be,aR as pe,a0 as _,aS as Oe,n as Z,i as de,j as je,aT as Re,aU as Me,aV as he,w as I,q as s,aa as ke,ac as Ve,aW as Ne,s as le,ao as De}from"./entry.Bg0Ots8a.js";import{_ as qe}from"./Dropdown.DYF_gG7X.js";import{_ as me}from"./Checkbox.C-5HAlNu.js";import{_ as we}from"./Input.BT2LL2SN.js";import{_ as Ce}from"./FormGroup.DiJa-5EB.js";const Te={wrapper:"relative overflow-x-auto",base:"min-w-full table-fixed",divide:"divide-y divide-gray-300 dark:divide-gray-700",thead:"relative",tbody:"divide-y divide-gray-200 dark:divide-gray-800",tr:{base:"",selected:"bg-gray-50 dark:bg-gray-800/50",active:"hover:bg-gray-50 dark:hover:bg-gray-800/50 cursor-pointer"},th:{base:"text-left rtl:text-right",padding:"px-4 py-3.5",color:"text-gray-900 dark:text-white",font:"font-semibold",size:"text-sm"},td:{base:"whitespace-nowrap",padding:"px-4 py-4",color:"text-gray-500 dark:text-gray-400",font:"",size:"text-sm"},checkbox:{padding:"ps-4"},loadingState:{wrapper:"flex flex-col items-center justify-center flex-1 px-6 py-14 sm:px-14",label:"text-sm text-center text-gray-900 dark:text-white",icon:"w-6 h-6 mx-auto text-gray-400 dark:text-gray-500 mb-4 animate-spin"},emptyState:{wrapper:"flex flex-col items-center justify-center flex-1 px-6 py-14 sm:px-14",label:"text-sm text-center text-gray-900 dark:text-white",icon:"w-6 h-6 mx-auto text-gray-400 dark:text-gray-500 mb-4"},progress:{wrapper:"absolute inset-x-0 -bottom-[0.5px] p-0"},default:{sortAscIcon:"i-heroicons-bars-arrow-up-20-solid",sortDescIcon:"i-heroicons-bars-arrow-down-20-solid",sortButton:{icon:"i-heroicons-arrows-up-down-20-solid",trailing:!0,square:!0,color:"gray",variant:"ghost",class:"-m-1.5"},progress:{color:"primary",animation:"carousel"},loadingState:{icon:"i-heroicons-arrow-path-20-solid",label:"Loading..."},emptyState:{icon:"i-heroicons-circle-stack-20-solid",label:"No items."}}},Fe={wrapper:"w-full flex flex-col gap-2",indicator:{container:{base:"flex flex-row justify-end",width:"min-w-fit",transition:"transition-all"},align:"text-end",width:"w-fit",color:"text-gray-400 dark:text-gray-500",size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base","2xl":"text-base"}},progress:{base:"block appearance-none border-none overflow-hidden",width:"w-full [&::-webkit-progress-bar]:w-full",size:{"2xs":"h-px",xs:"h-0.5",sm:"h-1",md:"h-2",lg:"h-3",xl:"h-4","2xl":"h-5"},rounded:"rounded-full [&::-webkit-progress-bar]:rounded-full",track:"[&::-webkit-progress-bar]:bg-gray-200 [&::-webkit-progress-bar]:dark:bg-gray-700 [@supports(selector(&::-moz-progress-bar))]:bg-gray-200 [@supports(selector(&::-moz-progress-bar))]:dark:bg-gray-700",bar:"[&::-webkit-progress-value]:rounded-full [&::-webkit-progress-value]:transition-all [&::-webkit-progress-value]:ease-in-out [&::-moz-progress-bar]:rounded-full",color:"text-{color}-500 dark:text-{color}-400",background:"[&::-webkit-progress-value]:bg-current [&::-moz-progress-bar]:bg-current",indeterminate:{base:"indeterminate:relative",rounded:"indeterminate:after:rounded-full [&:indeterminate::-webkit-progress-value]:rounded-full [&:indeterminate::-moz-progress-bar]:rounded-full"}},steps:{base:"grid grid-cols-1",color:"text-{color}-500 dark:text-{color}-400",size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base","2xl":"text-base"}},step:{base:"transition-all opacity-0 truncate row-start-1 col-start-1",align:"text-end",active:"opacity-100",first:"text-gray-500 dark:text-gray-400"},animation:{carousel:"bar-animation-carousel","carousel-inverse":"bar-animation-carousel-inverse",swing:"bar-animation-swing",elastic:"bar-animation-elastic"},default:{color:"primary",size:"md",animation:"carousel"}},T=ne(M.ui.strategy,M.ui.select,$e),Pe=se({components:{UIcon:re},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>T.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>T.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},size:{type:String,default:null,validator(e){return Object.keys(T.size).includes(e)}},color:{type:String,default:()=>T.default.color,validator(e){return[...M.ui.colors,...Object.keys(T.color)].includes(e)}},variant:{type:String,default:()=>T.default.variant,validator(e){return[...Object.keys(T.variant),...Object.values(T.color).flatMap(a=>Object.keys(a))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:"value"},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:a,slots:h}){const{ui:o,attrs:$}=ie("select",K(e,"ui"),T,K(e,"class")),{size:C,rounded:c}=Ae({ui:o,props:e}),{emitFormChange:r,inputId:k,color:p,size:g,name:S}=be(e,T),n=y(()=>C.value||g.value),z=t=>{a("update:modelValue",t.target.value)},B=t=>{a("change",t.target.value),r()},O=t=>x(t,e.valueAttribute,x(t,e.optionAttribute)),P=t=>x(t,e.optionAttribute,x(t,e.valueAttribute)),v=t=>["string","number","boolean"].includes(typeof t)?{[e.valueAttribute]:t,[e.optionAttribute]:t}:{...t,[e.valueAttribute]:O(t),[e.optionAttribute]:P(t)},l=y(()=>e.options.map(t=>v(t))),m=y(()=>e.placeholder?[{[e.valueAttribute]:"",[e.optionAttribute]:e.placeholder,disabled:!0},...l.value]:l.value),i=y(()=>{const t=v(e.modelValue),U=m.value.find(ae=>ae[e.valueAttribute]===t[e.valueAttribute]);return U?U[e.valueAttribute]:""}),w=y(()=>{var U,ae;const t=((ae=(U=o.value.color)==null?void 0:U[p.value])==null?void 0:ae[e.variant])||o.value.variant[e.variant];return ve(R(o.value.base,o.value.form,c.value,o.value.size[n.value],e.padded?o.value.padding[n.value]:"p-0",t==null?void 0:t.replaceAll("{color}",p.value),(A.value||h.leading)&&o.value.leading.padding[n.value],(W.value||h.trailing)&&o.value.trailing.padding[n.value]),e.placeholder&&!e.modelValue&&o.value.placeholder,e.selectClass)}),A=y(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),W=y(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),Q=y(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),j=y(()=>e.loading&&!A.value?e.loadingIcon:e.trailingIcon||e.icon),q=y(()=>R(o.value.icon.leading.wrapper,o.value.icon.leading.pointer,o.value.icon.leading.padding[n.value])),X=y(()=>R(o.value.icon.base,p.value&&M.ui.colors.includes(p.value)&&o.value.icon.color.replaceAll("{color}",p.value),o.value.icon.size[n.value],e.loading&&o.value.icon.loading)),E=y(()=>R(o.value.icon.trailing.wrapper,o.value.icon.trailing.pointer,o.value.icon.trailing.padding[n.value])),te=y(()=>R(o.value.icon.base,p.value&&M.ui.colors.includes(p.value)&&o.value.icon.color.replaceAll("{color}",p.value),o.value.icon.size[n.value],e.loading&&!A.value&&o.value.icon.loading));return{ui:o,attrs:$,name:S,inputId:k,normalizedOptionsWithPlaceholder:m,normalizedValue:i,isLeading:A,isTrailing:W,selectClass:w,leadingIconName:Q,leadingIconClass:X,leadingWrapperIconClass:q,trailingIconName:j,trailingIconClass:te,trailingWrapperIconClass:E,onInput:z,onChange:B}}}),We=["id","name","value","required","disabled"],Ee=["value","label"],Ge=["value","selected","disabled","textContent"],Le=["value","selected","disabled","textContent"];function He(e,a,h,o,$,C){const c=re;return d(),b("div",{class:V(e.ui.wrapper)},[f("select",J({id:e.inputId,name:e.name,value:e.modelValue,required:e.required,disabled:e.disabled,class:e.selectClass},e.attrs,{onInput:a[0]||(a[0]=(...r)=>e.onInput&&e.onInput(...r)),onChange:a[1]||(a[1]=(...r)=>e.onChange&&e.onChange(...r))}),[(d(!0),b(D,null,L(e.normalizedOptionsWithPlaceholder,(r,k)=>(d(),b(D,null,[r.children?(d(),b("optgroup",{key:`${r[e.valueAttribute]}-optgroup-${k}`,value:r[e.valueAttribute],label:r[e.optionAttribute]},[(d(!0),b(D,null,L(r.children,(p,g)=>(d(),b("option",{key:`${p[e.valueAttribute]}-${k}-${g}`,value:p[e.valueAttribute],selected:p[e.valueAttribute]===e.normalizedValue,disabled:p.disabled,textContent:N(p[e.optionAttribute])},null,8,Ge))),128))],8,Ee)):(d(),b("option",{key:`${r[e.valueAttribute]}-${k}`,value:r[e.valueAttribute],selected:r[e.valueAttribute]===e.normalizedValue,disabled:r.disabled,textContent:N(r[e.optionAttribute])},null,8,Le))],64))),256))],16,We),e.isLeading&&e.leadingIconName||e.$slots.leading?(d(),b("span",{key:0,class:V(e.leadingWrapperIconClass)},[G(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[u(c,{name:e.leadingIconName,class:V(e.leadingIconClass)},null,8,["name","class"])],!0)],2)):F("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(d(),b("span",{key:1,class:V(e.trailingWrapperIconClass)},[G(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[u(c,{name:e.trailingIconName,class:V(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])],!0)],2)):F("",!0)],2)}const Je=oe(Pe,[["render",He],["__scopeId","data-v-931b50ef"]]),ee=ne(M.ui.strategy,M.ui.progress,Fe),Ke=se({inheritAttrs:!1,props:{value:{type:Number,default:null},max:{type:[Number,Array],default:100},indicator:{type:Boolean,default:!1},animation:{type:String,default:()=>ee.default.animation,validator(e){return Object.keys(ee.animation).includes(e)}},size:{type:String,default:()=>ee.default.size,validator(e){return Object.keys(ee.progress.size).includes(e)}},color:{type:String,default:()=>ee.default.color,validator(e){return M.ui.colors.includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:a,attrs:h}=ie("progress",K(e,"ui"),ee,K(e,"class")),o=y(()=>R(a.value.indicator.container.base,a.value.indicator.container.width,a.value.indicator.container.transition)),$=y(()=>R(a.value.indicator.align,a.value.indicator.width,a.value.indicator.color,a.value.indicator.size[e.size])),C=y(()=>{var l;const v=[a.value.progress.base,a.value.progress.width,a.value.progress.size[e.size],a.value.progress.rounded,a.value.progress.track,a.value.progress.bar,(l=a.value.progress.color)==null?void 0:l.replaceAll("{color}",e.color),a.value.progress.background,a.value.progress.indeterminate.base,a.value.progress.indeterminate.rounded];return z.value&&v.push(a.value.animation[e.animation]),R(...v)}),c=y(()=>{var v;return R(a.value.steps.base,(v=a.value.steps.color)==null?void 0:v.replaceAll("{color}",e.color),a.value.steps.size[e.size])}),r=y(()=>R(a.value.step.base,a.value.step.align)),k=y(()=>R(a.value.step.active)),p=y(()=>R(a.value.step.first));function g(v){return v===Number(e.value)}function S(v){return v===0}function n(v){v=Number(v);const l=[r.value];return S(v)&&l.push(p.value),g(v)&&l.push(k.value),l.join(" ")}const z=y(()=>e.value===void 0||e.value===null),B=y(()=>Array.isArray(e.max)),O=y(()=>z.value?null:Array.isArray(e.max)?e.max.length-1:Number(e.max)),P=y(()=>{if(!z.value)switch(!0){case e.value<0:return 0;case e.value>O.value:return 100;default:return e.value/O.value*100}});return{ui:a,attrs:h,indicatorContainerClass:o,indicatorClass:$,progressClass:C,stepsClass:c,stepClasses:n,isIndeterminate:z,isSteps:B,realMax:O,percent:P}}});function Qe(e,a,h,o,$,C){return d(),b("div",J({class:e.ui.wrapper},e.attrs),[e.indicator||e.$slots.indicator?G(e.$slots,"indicator",ge(J({key:0},{percent:e.percent})),()=>[e.isSteps?F("",!0):(d(),b("div",{key:0,class:V(e.indicatorContainerClass),style:Ie({width:`${e.percent}%`})},[f("div",{class:V(e.indicatorClass)},N(Math.round(e.percent))+"% ",3)],6))],!0):F("",!0),f("progress",J({class:e.progressClass},{value:e.value,max:e.realMax}),N(e.percent!==void 0?`${Math.round(e.percent)}%`:void 0),17),e.isSteps?(d(),b("div",{key:1,class:V(e.stepsClass)},[(d(!0),b(D,null,L(e.max,(c,r)=>(d(),b("div",{key:r,class:V(e.stepClasses(r))},[G(e.$slots,`step-${r}`,ge(ze({step:c})),()=>[ye(N(c),1)],!0)],2))),128))],2)):F("",!0)],16)}const Se=oe(Ke,[["render",Qe],["__scopeId","data-v-1e545a26"]]);function Xe(e){return e?e[0].toUpperCase()+e.slice(1):""}const Y=ne(M.ui.strategy,M.ui.table,Te);function Ye(e,a){return e===a}function fe(e,a,h){return e===a?0:h==="asc"?e<a?-1:1:e>a?-1:1}const Ze=se({components:{UIcon:re,UButton:ce,UProgress:Se,UCheckbox:me},inheritAttrs:!1,props:{modelValue:{type:Array,default:null},by:{type:[String,Function],default:()=>Ye},rows:{type:Array,default:()=>[]},columns:{type:Array,default:null},columnAttribute:{type:String,default:"label"},sort:{type:Object,default:()=>({})},sortMode:{type:String,default:"auto"},sortButton:{type:Object,default:()=>Y.default.sortButton},sortAscIcon:{type:String,default:()=>Y.default.sortAscIcon},sortDescIcon:{type:String,default:()=>Y.default.sortDescIcon},loading:{type:Boolean,default:!1},loadingState:{type:Object,default:()=>Y.default.loadingState},emptyState:{type:Object,default:()=>Y.default.emptyState},progress:{type:Object,default:()=>Y.default.progress},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","update:sort"],setup(e,{emit:a,attrs:h}){const{ui:o,attrs:$}=ie("table",K(e,"ui"),Y,K(e,"class")),C=y(()=>e.columns??Object.keys(e.rows[0]??{}).map(i=>({key:i,label:Xe(i),sortable:!1,class:void 0,sort:fe}))),c=Ue(e,"sort",a,{passive:!0,defaultValue:ue({},e.sort,{column:null,direction:"asc"})}),r={column:c.value.column,direction:null},k=y(()=>{var A;if(!((A=c.value)!=null&&A.column)||e.sortMode==="manual")return e.rows;const{column:i,direction:w}=c.value;return e.rows.slice().sort((W,Q)=>{var E;const j=x(W,i),q=x(Q,i);return(((E=C.value.find(te=>te.key===i))==null?void 0:E.sort)??fe)(j,q,w)})}),p=y({get(){return e.modelValue},set(i){a("update:modelValue",i)}}),g=y(()=>p.value&&p.value.length>0&&p.value.length<e.rows.length),S=y(()=>e.emptyState===null?null:{...o.value.default.emptyState,...e.emptyState}),n=y(()=>e.loadingState===null?null:{...o.value.default.loadingState,...e.loadingState});function z(i,w){if(typeof e.by=="string"){const A=e.by;return(i==null?void 0:i[A])===(w==null?void 0:w[A])}return e.by(i,w)}function B(i){return e.modelValue?p.value.some(w=>z(pe(w),pe(i))):!1}function O(i){if(c.value.column===i.key){const w=!i.direction||i.direction==="asc"?"desc":"asc";c.value.direction===w?c.value=ue({},r,{column:null,direction:"asc"}):c.value={column:c.value.column,direction:c.value.direction==="asc"?"desc":"asc"}}else c.value={column:i.key,direction:i.direction||"asc"}}function P(i){h.onSelect&&h.onSelect(i)}function v(){e.rows.forEach(i=>{B(i)||p.value.push(i)})}function l(i){i.target.checked?v():p.value=[]}function m(i,w,A=""){return x(i,w,A)}return{ui:o,attrs:$,sort:c,columns:C,rows:k,selected:p,indeterminate:g,emptyState:S,loadingState:n,isSelected:B,onSort:O,onSelect:P,onChange:l,getRowData:m}}}),xe={key:1},_e={key:0},et={key:0},tt=["colspan"],at={key:1},lt=["colspan"],nt=["onClick"];function ot(e,a,h,o,$,C){const c=me,r=ce,k=Se,p=re;return d(),b("div",J({class:e.ui.wrapper},e.attrs),[f("table",{class:V([e.ui.base,e.ui.divide])},[f("thead",{class:V(e.ui.thead)},[f("tr",{class:V(e.ui.tr.base)},[e.modelValue?(d(),b("th",{key:0,scope:"col",class:V(e.ui.checkbox.padding)},[u(c,{"model-value":e.indeterminate||e.selected.length===e.rows.length,indeterminate:e.indeterminate,"aria-label":"Select all",onChange:e.onChange},null,8,["model-value","indeterminate","onChange"])],2)):F("",!0),(d(!0),b(D,null,L(e.columns,(g,S)=>(d(),b("th",{key:S,scope:"col",class:V([e.ui.th.base,e.ui.th.padding,e.ui.th.color,e.ui.th.font,e.ui.th.size,g.class])},[G(e.$slots,`${g.key}-header`,{column:g,sort:e.sort,onSort:e.onSort},()=>[g.sortable?(d(),_(r,J({key:0},{...e.ui.default.sortButton||{},...e.sortButton},{icon:!e.sort.column||e.sort.column!==g.key?e.sortButton.icon||e.ui.default.sortButton.icon:e.sort.direction==="asc"?e.sortAscIcon:e.sortDescIcon,label:g[e.columnAttribute],onClick:n=>e.onSort(g)}),null,16,["icon","label","onClick"])):(d(),b("span",xe,N(g[e.columnAttribute]),1))])],2))),128))],2),e.loading&&e.progress?(d(),b("tr",_e,[f("td",{colspan:0,class:V(e.ui.progress.wrapper)},[u(k,J({...e.ui.default.progress||{},...e.progress},{size:"2xs"}),null,16)],2)])):F("",!0)],2),f("tbody",{class:V(e.ui.tbody)},[e.loadingState&&e.loading&&!e.rows.length?(d(),b("tr",et,[f("td",{colspan:e.columns.length+(e.modelValue?1:0)},[G(e.$slots,"loading-state",{},()=>[f("div",{class:V(e.ui.loadingState.wrapper)},[e.loadingState.icon?(d(),_(p,{key:0,name:e.loadingState.icon,class:V(e.ui.loadingState.icon),"aria-hidden":"true"},null,8,["name","class"])):F("",!0),f("p",{class:V(e.ui.loadingState.label)},N(e.loadingState.label),3)],2)])],8,tt)])):e.emptyState&&!e.rows.length?(d(),b("tr",at,[f("td",{colspan:e.columns.length+(e.modelValue?1:0)},[G(e.$slots,"empty-state",{},()=>[f("div",{class:V(e.ui.emptyState.wrapper)},[e.emptyState.icon?(d(),_(p,{key:0,name:e.emptyState.icon,class:V(e.ui.emptyState.icon),"aria-hidden":"true"},null,8,["name","class"])):F("",!0),f("p",{class:V(e.ui.emptyState.label)},N(e.emptyState.label),3)],2)])],8,lt)])):(d(!0),b(D,{key:2},L(e.rows,(g,S)=>(d(),b("tr",{key:S,class:V([e.ui.tr.base,e.isSelected(g)&&e.ui.tr.selected,e.$attrs.onSelect&&e.ui.tr.active,g==null?void 0:g.class]),onClick:()=>e.onSelect(g)},[e.modelValue?(d(),b("td",{key:0,class:V(e.ui.checkbox.padding)},[u(c,{modelValue:e.selected,"onUpdate:modelValue":a[0]||(a[0]=n=>e.selected=n),value:g,"aria-label":"Select row",onClick:a[1]||(a[1]=Be(()=>{},["stop"]))},null,8,["modelValue","value"])],2)):F("",!0),(d(!0),b(D,null,L(e.columns,(n,z)=>{var B;return d(),b("td",{key:z,class:V([e.ui.td.base,e.ui.td.padding,e.ui.td.color,e.ui.td.font,e.ui.td.size,(B=g[n.key])==null?void 0:B.class])},[G(e.$slots,`${n.key}-data`,{column:n,row:g,index:S,getRowData:O=>e.getRowData(g,n.key,O)},()=>[ye(N(e.getRowData(g,n.key)),1)])],2)}),128))],10,nt))),128))],2)],2)],16)}const st=oe(Ze,[["render",ot]]),H=ne(M.ui.strategy,M.ui.textarea,Oe),rt=se({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},maxrows:{type:Number,default:0},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(H.size).includes(e)}},color:{type:String,default:()=>H.default.color,validator(e){return[...M.ui.colors,...Object.keys(H.color)].includes(e)}},variant:{type:String,default:()=>H.default.variant,validator(e){return[...Object.keys(H.variant),...Object.values(H.color).flatMap(a=>Object.keys(a))].includes(e)}},textareaClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:a}){const{ui:h,attrs:o}=ie("textarea",K(e,"ui"),H,K(e,"class")),{emitFormBlur:$,emitFormInput:C,inputId:c,color:r,size:k,name:p}=be(e,H),g=Z(ue({},e.modelModifiers,{trim:!1,lazy:!1,number:!1})),S=Z(null),n=()=>{var m;e.autofocus&&((m=S.value)==null||m.focus())},z=()=>{if(e.autoresize){if(!S.value)return;S.value.rows=e.rows;const m=window.getComputedStyle(S.value),i=parseInt(m.paddingTop),w=parseInt(m.paddingBottom),A=i+w,W=parseInt(m.lineHeight),{scrollHeight:Q}=S.value,j=(Q-A)/W;j>e.rows&&(S.value.rows=e.maxrows?Math.min(j,e.maxrows):j)}},B=m=>{g.value.trim&&(m=m.trim()),g.value.number&&(m=Me(m)),a("update:modelValue",m),C()},O=m=>{z(),g.value.lazy||B(m.target.value)},P=m=>{const i=m.target.value;a("change",i),g.value.lazy&&B(i),g.value.trim&&(m.target.value=i.trim())},v=m=>{a("blur",m),$()};de(()=>{setTimeout(()=>{n()},e.autofocusDelay)}),je(()=>e.modelValue,()=>{Re(z)}),de(()=>{setTimeout(()=>{n(),z()},100)});const l=y(()=>{var i,w;const m=((w=(i=h.value.color)==null?void 0:i[r.value])==null?void 0:w[e.variant])||h.value.variant[e.variant];return ve(R(h.value.base,h.value.form,h.value.rounded,h.value.placeholder,h.value.size[k.value],e.padded?h.value.padding[k.value]:"p-0",m==null?void 0:m.replaceAll("{color}",r.value),!e.resize&&"resize-none"),e.textareaClass)});return{ui:h,attrs:o,name:p,inputId:c,textarea:S,textareaClass:l,onInput:O,onChange:P,onBlur:v}}}),it=["id","value","name","rows","required","disabled","placeholder"];function ut(e,a,h,o,$,C){return d(),b("div",{class:V(e.ui.wrapper)},[f("textarea",J({id:e.inputId,ref:"textarea",value:e.modelValue,name:e.name,rows:e.rows,required:e.required,disabled:e.disabled,placeholder:e.placeholder,class:e.textareaClass},e.attrs,{onInput:a[0]||(a[0]=(...c)=>e.onInput&&e.onInput(...c)),onBlur:a[1]||(a[1]=(...c)=>e.onBlur&&e.onBlur(...c)),onChange:a[2]||(a[2]=(...c)=>e.onChange&&e.onChange(...c))}),null,16,it),G(e.$slots,"default")],2)}const dt=oe(rt,[["render",ut]]),ct={class:"p-4"},mt={__name:"modalModificationRow",props:["data","type"],setup(e){const a=he();return(h,o)=>{const $=we,C=Ce,c=ke,r=Ve;return d(),_(r,null,{default:I(()=>[f("div",ct,[u(C,{label:"Date"},{default:I(()=>[u($,{type:"datetime-local",modelValue:e.data.timeStamp,"onUpdate:modelValue":o[0]||(o[0]=k=>e.data.timeStamp=k),label:"Date",onChange:o[1]||(o[1]=k=>s(a).saveReport())},null,8,["modelValue"])]),_:1}),u(c,{class:"my-4"}),(d(!0),b(D,null,L(e.type,k=>(d(),_(C,{label:k.label},{default:I(()=>[u($,{type:k.type,disabled:!k.editable,modelValue:e.data[k.key],"onUpdate:modelValue":p=>e.data[k.key]=p,label:k.label,onChange:o[2]||(o[2]=p=>s(a).saveReport())},null,8,["type","disabled","modelValue","onUpdate:modelValue","label"])]),_:2},1032,["label"]))),256))])]),_:1})}}},gt={class:"p-4 h-full w-full flex flex-col gap-1"},pt={class:"w-full"},ft={class:"grid grid-cols-1 md:flex gap-4 mb-4"},bt={class:"grow flex gap-2"},vt={class:"font-bold text-2xl truncate..."},yt={class:"flex gap-4"},ht={class:"p-4"},kt={class:"font-bold mb-2"},Vt={class:"p-4"},wt={class:"p-4 flex flex-col gap-2"},Ct={class:"flex mb-4 gap-6"},St={class:"grow font-bold text-2xl truncate"},$t={class:"p-4 flex flex-col gap-2"},At={class:"flex gap-4"},It={class:"flex gap-4"},Rt={__name:"report",setup(e){const a=Ne(),h=Z(!1),o=Z(!1),$=Z(!1),C=Z(!1),c={},r=Z({key:"",label:"",editable:!0,sortable:!0,type:"string"}),k=[{value:"string",name:"Text"},{value:"datetime-local",name:"Date"},{value:"number",name:"Number"}];function p(v){a.open(mt,{data:v,type:n.columns})}const g=v=>[[{label:"Edit",icon:"i-heroicons-pencil-square-20-solid",click:()=>p(v)},{label:"Delete",icon:"i-heroicons-trash-20-solid",click:()=>O(v)}]],S=()=>[[{label:"Add column",icon:"i-heroicons-plus",click:()=>h.value=!0},{label:"Modification",icon:"i-heroicons-pencil-square-20-solid",click:()=>C.value=!0}]],n=he();de(()=>{n.callListReport()});const z={key:"actions",editable:!0,type:"hidden"},B=()=>{const v={...r.value};n.addColumn(v)},O=v=>{n.deleteRow(v)},P=()=>{n.addRow({...c})};return(v,l)=>{const m=ce,i=Je,w=ke,A=De,W=qe,Q=st,j=we,q=Ce,X=me,E=Ve,te=dt;return d(),b(D,null,[f("div",gt,[f("div",pt,[f("div",ft,[f("div",bt,[u(m,{color:"gray",icon:"i-heroicons-pencil-square",square:"",onClick:l[0]||(l[0]=t=>$.value=!0)}),f("p",vt,N(s(n).name),1)]),f("div",yt,[u(i,{class:"w-40",modelValue:s(n).activeReport,"onUpdate:modelValue":l[1]||(l[1]=t=>s(n).activeReport=t),options:s(n).listReport,"option-attribute":"name","value-attribute":"id",onChange:l[2]||(l[2]=t=>s(n).callReport(s(n).activeReport))},null,8,["modelValue","options"])])]),u(w,{class:"mb-4"}),u(A,{class:"w-40",modelValue:s(n).selectedColumns,"onUpdate:modelValue":l[3]||(l[3]=t=>s(n).selectedColumns=t),options:s(n).cols,multiple:"",placeholder:"Columns"},null,8,["modelValue","options"])]),u(Q,{class:"overflow-x-auto",columns:s(n).selectedColumns.concat(z),rows:s(n).rows,loading:s(n).loading,ui:{wrapper:"h-auto w-auto",thead:"sticky top-0 z-10 dark:bg-gray-950",th:{base:"sticky top-0 m-0"}}},{"actions-header":I(()=>[u(W,{items:S()},{default:I(()=>[u(m,{label:"Edit",icon:"i-heroicons-pencil-square"})]),_:1},8,["items"])]),"actions-data":I(({row:t})=>[u(W,{items:g(t)},{default:I(()=>[u(m,{color:"gray",variant:"ghost",icon:"i-heroicons-ellipsis-horizontal-20-solid"})]),_:2},1032,["items"])]),_:1},8,["columns","rows","loading"]),f("div",null,[u(m,{label:"Add",block:"",class:"my-4",icon:"i-heroicons-plus",variant:"ghost",onClick:l[4]||(l[4]=t=>o.value=!0)})])]),u(E,{modelValue:s(h),"onUpdate:modelValue":l[10]||(l[10]=t=>le(h)?h.value=t:null)},{default:I(()=>[f("div",ht,[f("p",kt," Key : "+N(s(r).key),1),u(q,{label:"Name",class:"py-2"},{default:I(()=>[u(j,{modelValue:s(r).label,"onUpdate:modelValue":l[5]||(l[5]=t=>s(r).label=t),onchange:s(r).key=s(r).label.split(" ")[0].toLowerCase().concat("_"+Date.now())},null,8,["modelValue","onchange"])]),_:1}),u(X,{modelValue:s(r).editable,"onUpdate:modelValue":l[6]||(l[6]=t=>s(r).editable=t),name:"editable",label:"Editable",class:"py-2"},null,8,["modelValue"]),u(X,{modelValue:s(r).sortable,"onUpdate:modelValue":l[7]||(l[7]=t=>s(r).sortable=t),name:"sortable",label:"Sortable",class:"py-2"},null,8,["modelValue"]),u(A,{modelValue:s(r).type,"onUpdate:modelValue":l[8]||(l[8]=t=>s(r).type=t),options:k,placeholder:"Select type of data","value-attribute":"value","option-attribute":"name",class:"pt-2 pb-4"},null,8,["modelValue"]),u(m,{label:"Add",block:"",onClick:l[9]||(l[9]=t=>B()),icon:"i-heroicons-plus",class:"w-max-full"})])]),_:1},8,["modelValue"]),u(E,{modelValue:s(o),"onUpdate:modelValue":l[12]||(l[12]=t=>le(o)?o.value=t:null)},{default:I(()=>[f("div",Vt,[(d(!0),b(D,null,L(s(n).columns,t=>(d(),_(q,{label:t.label},{default:I(()=>[u(j,{type:t.type,disabled:!t.editable,modelValue:c[t.key],"onUpdate:modelValue":U=>c[t.key]=U,label:t.label},null,8,["type","disabled","modelValue","onUpdate:modelValue","label"])]),_:2},1032,["label"]))),256)),u(m,{label:"Add",onClick:l[11]||(l[11]=t=>P()),icon:"i-heroicons-plus",class:"my-4",block:""})])]),_:1},8,["modelValue"]),u(E,{modelValue:s($),"onUpdate:modelValue":l[20]||(l[20]=t=>le($)?$.value=t:null)},{default:I(()=>[f("div",wt,[f("div",Ct,[f("p",St,N(s(n).name),1),u(m,{label:"Delete",color:"red",variant:"outline",onClick:l[13]||(l[13]=t=>s(n).deleteReport(s(n).id)),icon:"i-heroicons-archive-box-x-mark"})]),u(q,{label:"Name"},{default:I(()=>[u(j,{type:"text",modelValue:s(n).name,"onUpdate:modelValue":l[14]||(l[14]=t=>s(n).name=t),label:"Name",onChange:l[15]||(l[15]=t=>s(n).saveReport())},null,8,["modelValue"])]),_:1}),u(q,{label:"Date create"},{default:I(()=>[u(j,{type:"date",modelValue:s(n).dateCreate,"onUpdate:modelValue":l[16]||(l[16]=t=>s(n).dateCreate=t),label:"Date",onChange:l[17]||(l[17]=t=>s(n).saveReport())},null,8,["modelValue"])]),_:1}),u(q,{label:"Comment"},{default:I(()=>[u(te,{modelValue:s(n).com,"onUpdate:modelValue":l[18]||(l[18]=t=>s(n).com=t),onChange:l[19]||(l[19]=t=>s(n).saveReport()),placeholder:"Comments..."},null,8,["modelValue"])]),_:1})])]),_:1},8,["modelValue"]),u(E,{modelValue:s(C),"onUpdate:modelValue":l[22]||(l[22]=t=>le(C)?C.value=t:null)},{default:I(()=>[f("div",$t,[(d(!0),b(D,null,L(s(n).columns,t=>(d(),_(q,{label:t.label},{default:I(()=>[f("div",At,[u(j,{class:"grow",type:"text",modelValue:t.label,"onUpdate:modelValue":U=>t.label=U,label:t.label,onChange:l[21]||(l[21]=U=>s(n).saveReport())},null,8,["modelValue","onUpdate:modelValue","label"]),u(m,{square:"",color:"red",variant:"outline",onClick:U=>s(n).deleteColumn(t),icon:"i-heroicons-archive-box-x-mark"},null,8,["onClick"])]),f("div",It,[u(X,{modelValue:t.editable,"onUpdate:modelValue":U=>t.editable=U,name:"editable",label:"Editable",class:"py-2"},null,8,["modelValue","onUpdate:modelValue"]),u(X,{modelValue:t.sortable,"onUpdate:modelValue":U=>t.sortable=U,name:"sortable",label:"Sortable",class:"py-2"},null,8,["modelValue","onUpdate:modelValue"])]),u(w)]),_:2},1032,["label"]))),256))])]),_:1},8,["modelValue"])],64)}}};export{Rt as default};
